<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="catalog">
    </div>

    <div class="basket-list"></div>
    <button class="basket-btn">Очистить корзину</button>

    <script>
        //Задание 1
        let field = document.createElement('div');
        document.body.appendChild(field);

        for (let y = 0; y < 10; y++) {
            for (let x = 0; x < 10; x++) {
                let css = x ? {} : { clear: 'left' };
                let content = '';
                if (y == 0 || y == 9)
                    content = x > 0 && x < 9 ? 'ABCDEFGH'.charAt(x - 1) : null;
                else if (x == 0 || x == 9)
                    content = 9 - y;
                else css.background = (x + y) % 2 ? '#000' : '#fff';

                let node = document.createElement('div');
                css.width = '20px';
                css.height = css.width;
                css.textAlign = 'center';
                css.float = 'left';
                for (let i in css) node.style[i] = css[i];
                if (content)
                    node.innerHTML = content;
                field.appendChild(node);
            }
        }
        //Задание 2
        const basketItem = {
            render(good) {
                return `<div class="good">
                    <div><b>Наименование</b>: ${good.product}</div>
                    <div><b>Цена за шт.</b>: ${good.price}</div>
                    <div><b>Количество</b>: ${good.quantity}</div>
                    <div><b>Стоимость</b>: ${good.quantity * good.price}</div>
                </div>`;
            }
        }
        const basket = {
            basketListBlock: null,
            basketButton: null,
            basketItem,
            goods: [
                {
                    id_product: 111, product: 'Банан', price: 10, quantity: 2,
                },
                {
                    id_product: 222, product: 'Апельсин', price: 15, quantity: 3,
                }

            ],

            init() {
                this.basketListBlock = document.querySelector('.basket-list');
                this.basketButton = document.querySelector('.basket-btn');
                this.basketButton.addEventListener('click', this.clearBasket.bind(this));

                this.render();
            },
            render() {
                if (this.goods.length) {
                    this.goods.forEach(good => {
                        this.basketListBlock.insertAdjacentHTML('beforeend', this.basketItem.render(good));
                    });
                    this.basketListBlock.insertAdjacentHTML('beforeend', `В корзине ${this.goods.length} позиций(я) стоимостью ${this.getBasketPrice()}`);
                } else {
                    this.basketListBlock.textContent = 'Корзина пуста';
                }
            },
            getBasketPrice() {
                return this.goods.reduce(function (price, good) {
                    return price + good.price * good.quantity;
                }, 0);
            },
            clearBasket() {
                this.goods = [];
                this.render();
            },
        };

        basket.init();

    </script>
</body>

</html>